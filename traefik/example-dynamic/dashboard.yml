# Dynamic Configuration
http:
  routers:
    api:
      rule: "Host(`tk.local.test`)"
      entrypoints:
        - websecure
      service: api@internal
      middlewares:
        - auth
      tls:
        certResolver: letsEncryptDns

  middlewares:
    auth:
      basicAuth:
        users:
          - "user:htppasswd"
        usersFile: "/auth/get/users"
        realm: "MyRealm"
        headerField: "X-WebAuth-User"
